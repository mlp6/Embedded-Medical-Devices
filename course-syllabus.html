<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.31">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Embedded Medical Devices</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-fced259a1985fd972ecb57c7cd45153f.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-818025d643b08bcde8d572171ad99962.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-sidebar docked quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./course-syllabus.html">Course Information</a></li><li class="breadcrumb-item"><a href="./course-syllabus.html">Course Syllabus</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-center sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Embedded Medical Devices</a> 
    </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Course Information</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./course-syllabus.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Course Syllabus</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./bme-lab-policies.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">BME Lab Policies</span></a>
  </div>
</li>
          <li class="sidebar-item">
 <span class="menu-text">Ed Discussion</span>
  </li>
          <li class="sidebar-item">
 <span class="menu-text">Canvas</span>
  </li>
          <li class="sidebar-item">
 <span class="menu-text">Gradescope</span>
  </li>
          <li class="sidebar-item">
 <span class="menu-text">Panopto</span>
  </li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./software-install-tutorials.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Software Installation &amp; Tutorials</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./faq.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">FAQ</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Learning Modules</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./slides/zephyr-nrf52833dk-intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction to Zephyr &amp; Nordic SoCs</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./slides/event-driven-state-machine.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Event-Driven State Machines</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./slides/git-fundamentals-notes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Git Fundamentals</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./slides/c-programming-notes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">C Programming</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./slides/zephyr-gpio-isr-callbacks.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">GPIO, ISR, and Callbacks</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./slides/zephyr-timers.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Timers</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./slides/zephyr-threads-events.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Threads and Kernel Events</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./slides/zephyr-smf.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">State Machine Framework (SMF)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./slides/zephyr-adc.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Analog-to-Digital Conversion (ADC)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./slides/zephyr-pwm.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Pulse Width Modulation (PWM)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./slides/zephyr-serial-communication.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Serial Communication (UART, I2C, SPI)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./slides/zephyr-ble.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Bluetooth Low Energy (BLE)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./slides/zephyr-vbus.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">VBUS</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">Labs</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./labs/event-driven-state-machine-lab.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Event-Driven State Machine Lab</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./labs/git-fundamentals-lab.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Git Fundamentals Lab</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./labs/c-programming-lab.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">C Programming Lab</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./labs/zephyr-gpio-isr-callbacks-lab.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">GPIO, ISR, and Callbacks Lab</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./labs/zephyr-timers-lab.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Timers Lab</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./labs/zephyr-smf-lab.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">State Machine Framework (SMF) Refactor Lab</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./labs/zephyr-threads-events-lab.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Threads and Kernel Events Lab</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./labs/zephyr-adc-lab.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Analog-to-Digital Conversion (ADC) Lab</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./labs/zephyr-pwm-lab.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Pulse Width Modulation (PWM) Lab</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./labs/ecg-temp-ble-lab.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ECG, Temperature Sensor, and BLE Lab</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true">
 <span class="menu-text">Resources</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./resources/how-to-generate-ecg-waveforms.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">How to Generate ECG Waveforms</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./resources/debugging.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Zephyr: Debugging in VS Code</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./resources/teaching_assistant_expectations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Teaching Assistant Expectations</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#personnel" id="toc-personnel" class="nav-link active" data-scroll-target="#personnel">Personnel</a>
  <ul class="collapse">
  <li><a href="#instructor" id="toc-instructor" class="nav-link" data-scroll-target="#instructor">Instructor</a></li>
  <li><a href="#teaching-assistants" id="toc-teaching-assistants" class="nav-link" data-scroll-target="#teaching-assistants">Teaching Assistants</a></li>
  </ul></li>
  <li><a href="#course-times-locations" id="toc-course-times-locations" class="nav-link" data-scroll-target="#course-times-locations">Course Times &amp; Locations</a>
  <ul class="collapse">
  <li><a href="#lecture" id="toc-lecture" class="nav-link" data-scroll-target="#lecture">Lecture</a></li>
  <li><a href="#labs" id="toc-labs" class="nav-link" data-scroll-target="#labs">Labs</a></li>
  </ul></li>
  <li><a href="#course-objectives" id="toc-course-objectives" class="nav-link" data-scroll-target="#course-objectives">Course Objectives</a></li>
  <li><a href="#prerequisites" id="toc-prerequisites" class="nav-link" data-scroll-target="#prerequisites">Prerequisites</a>
  <ul class="collapse">
  <li><a href="#mandatory" id="toc-mandatory" class="nav-link" data-scroll-target="#mandatory">Mandatory</a></li>
  </ul></li>
  <li><a href="#learning-management-system" id="toc-learning-management-system" class="nav-link" data-scroll-target="#learning-management-system">Learning Management System</a></li>
  <li><a href="#class-schedule" id="toc-class-schedule" class="nav-link" data-scroll-target="#class-schedule">Class Schedule</a>
  <ul class="collapse">
  <li><a href="#learning-module-schedule" id="toc-learning-module-schedule" class="nav-link" data-scroll-target="#learning-module-schedule">Learning Module Schedule</a></li>
  <li><a href="#special-dates" id="toc-special-dates" class="nav-link" data-scroll-target="#special-dates">Special Dates</a></li>
  </ul></li>
  <li><a href="#attendance-participation" id="toc-attendance-participation" class="nav-link" data-scroll-target="#attendance-participation">Attendance &amp; Participation</a></li>
  <li><a href="#assignments-grading" id="toc-assignments-grading" class="nav-link" data-scroll-target="#assignments-grading">Assignments &amp; Grading</a>
  <ul class="collapse">
  <li><a href="#grading" id="toc-grading" class="nav-link" data-scroll-target="#grading">Grading</a></li>
  <li><a href="#course-grade" id="toc-course-grade" class="nav-link" data-scroll-target="#course-grade">Course Grade</a></li>
  <li><a href="#regrades" id="toc-regrades" class="nav-link" data-scroll-target="#regrades">Regrades</a></li>
  <li><a href="#late-policy-sdao-accomodations" id="toc-late-policy-sdao-accomodations" class="nav-link" data-scroll-target="#late-policy-sdao-accomodations">Late Policy / SDAO Accomodations</a></li>
  </ul></li>
  <li><a href="#duke-community-standard" id="toc-duke-community-standard" class="nav-link" data-scroll-target="#duke-community-standard">Duke Community Standard</a></li>
  <li><a href="#faq" id="toc-faq" class="nav-link" data-scroll-target="#faq">FAQ</a>
  <ul class="collapse">
  <li><a href="#can-i-collaborate-with-other-students" id="toc-can-i-collaborate-with-other-students" class="nav-link" data-scroll-target="#can-i-collaborate-with-other-students">Can I collaborate with other students?</a></li>
  <li><a href="#can-i-use-ai" id="toc-can-i-use-ai" class="nav-link" data-scroll-target="#can-i-use-ai">Can I use AI?</a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/mlp6/Embedded-Medical-Devices/issues/new" class="toc-action"><i class="bi bi-github"></i>Report an issue</a></li></ul></div><div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="course-syllabus.pdf"><i class="bi bi-file-pdf"></i>PDF</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./course-syllabus.html">Course Information</a></li><li class="breadcrumb-item"><a href="./course-syllabus.html">Course Syllabus</a></li></ol></nav>
<div class="quarto-title">
<h1 class="title">Embedded Medical Devices</h1>
<p class="subtitle lead">BME554L (Fall 2025)</p>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="personnel" class="level2">
<h2 class="anchored" data-anchor-id="personnel">Personnel</h2>
<section id="instructor" class="level3">
<h3 class="anchored" data-anchor-id="instructor">Instructor</h3>
<p>Dr.&nbsp;Mark Palmeri (<code>mlp6</code>)</p>
<ul>
<li>Email: <a href="mailto:mark.palmeri@duke.edu">mark.palmeri@duke.edu</a></li>
<li>Ed Discussion (private message, TAs included)</li>
<li>Office Hours: TBD (Zoom / 258 Hudson Hall Annex)</li>
</ul>
</section>
<section id="teaching-assistants" class="level3">
<h3 class="anchored" data-anchor-id="teaching-assistants">Teaching Assistants</h3>
<ul>
<li>Ceci Schmidz (<code>cls157</code>)</li>
<li>Evan Smith (<code>jes114</code>)</li>
<li>Harvey Shi (<code>hys3</code>)</li>
</ul>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>Questions that can be answered by Dr.&nbsp;Palmeri or a teaching assistant should be posted on Ed Discussion.</p>
</div>
</div>
</section>
</section>
<section id="course-times-locations" class="level2">
<h2 class="anchored" data-anchor-id="course-times-locations">Course Times &amp; Locations</h2>
<section id="lecture" class="level3">
<h3 class="anchored" data-anchor-id="lecture">Lecture</h3>
<p>Monday &amp; Wednesday, 08:30-09:45, Wilkinson 136 (Panopto recorded)</p>
</section>
<section id="labs" class="level3">
<h3 class="anchored" data-anchor-id="labs">Labs</h3>
<p>Location: CIEMAS B209</p>
<p>There are no formally scheduled lab sections, but you will need to use the lab equipment to perform testing of your devices. Your TAs will announce times when they will hold lab hours.</p>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Warning
</div>
</div>
<div class="callout-body-container callout-body">
<p>No food or drink is allowed in the lab! Failure to adhere to this policy will have consequences on your lab grades.</p>
</div>
</div>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<p>Please review the <a href="./bme-lab-policies.html">lab policies</a> before using the lab for the first time this semester.</p>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>B209 Door Code: 4-1-5-2</p>
</div>
</div>
</section>
</section>
<section id="course-objectives" class="level2">
<h2 class="anchored" data-anchor-id="course-objectives">Course Objectives</h2>
<p>This course will give students experience with the design, function and deployment of embedded medical devices. Students will have hands on experience with electronic hardware and firmware (software) development, along with gaining experience with biosignal transduction into circuits.</p>
<p>Upon completion of this course, students should be able to:</p>
<ul>
<li>Version control software / firmware development using <code>git</code>.</li>
<li>Use an Integrated Development Environment (IDE) for firmware development.</li>
<li>Describe hardware using a Devicetree hierarchical data structure.</li>
<li>Develop firmware using Zephyr as a bare-metal super-loop and a Realtime Operating System (RTOS)</li>
<li>Implement state machines and generate state diagrams using the Unified Modeling Language (UML).</li>
<li>Utilize callbacks / interupt service routines for realtime event detection and response.</li>
<li>Utilize threads and work queues.</li>
<li>Develop firmware to control common periperals, including GPIO, ADC and PWM.</li>
<li>Use different serial communication protocols, including UART, I2C, SPI, and BLE.</li>
<li>Utilize firmware logging at different levels.</li>
<li>Test firmware implementation on the <code>nRF52833DK</code> using electronic bench equipment and generate technical reports with data analysis for device verification.</li>
<li>Develop firmware with workflows that adhere to relevant industry and safety standards (e.g., UL, IEC60601, IEC62304) for FDA 510k clearance.</li>
</ul>
</section>
<section id="prerequisites" class="level2">
<h2 class="anchored" data-anchor-id="prerequisites">Prerequisites</h2>
<section id="mandatory" class="level3">
<h3 class="anchored" data-anchor-id="mandatory">Mandatory</h3>
<ul>
<li>EGR105L or equivalent experience [git, Python]</li>
<li>Intrumentation (BME354L) / Mechatronics</li>
<li>Signals &amp; Systems (BME271/671 or equivalent experience [filtering, FFTs])</li>
</ul>
</section>
</section>
<section id="learning-management-system" class="level2">
<h2 class="anchored" data-anchor-id="learning-management-system">Learning Management System</h2>
<p>We will be using <a href="https://canvas.duke.edu">Canvas</a> as the learning management system for this course. Most resources will be linked to the course website. All grades will be posted via Canvas/Gradescope.</p>
<p>Duke’s <a href="https://gitlab.oit.duke.edu">GitLab</a> server will be used for most course lab exercises, and code-related questions will be submitted to Dr.&nbsp;Palmeri / TAs using GitLab Issues.</p>
<p>Ed Discussion will be used for general course questions and discussion.</p>
</section>
<section id="class-schedule" class="level2">
<h2 class="anchored" data-anchor-id="class-schedule">Class Schedule</h2>
<p>This class is organized in a sequence of modules. Specific details surrounding dates for assignments associated with each module will be posted to Gradescope and linked below.</p>
<p>This course uses a version of <a href="https://en.wikipedia.org/wiki/Mastery_learning">Mastery Learning</a>, where “mastery” of a given module is necessary to progress onto the subsequent module. Quizzes are used to evaluate “knowledge”; lab exercises are used to demonstrate application of skills. In this course, assignments of later modules depends on the successful completion of earlier modules.</p>
<section id="learning-module-schedule" class="level3">
<h3 class="anchored" data-anchor-id="learning-module-schedule">Learning Module Schedule</h3>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Module</th>
<th>Materials</th>
<th>Assessment</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Zephyr &amp; Nordic SoC Overview</td>
<td><a href="./slides/zephyr-nrf52833dk-intro.html">Lecture Notes &amp; Slides</a></td>
<td><a href="https://www.gradescope.com/">Completion Survey</a> (Due: TBD) <br> <a href="./software-install-tutorials.html">Software Installs &amp; Tutorials</a> (Due: TBD)</td>
</tr>
<tr class="even">
<td>Event-Driven State Machines</td>
<td><a href="./slides/event-driven-state-machine.html">Lecture Notes &amp; Slides</a></td>
<td><a href="https://www.gradescope.com/">Wireless HRM</a> <br> <a href="./labs/event-driven-state-machine-lab.html">Event-Driven State Machine Lab</a></td>
</tr>
<tr class="odd">
<td>Version Control (<code>git</code>)</td>
<td><a href="./slides/git-fundamentals-notes.html">Lecture Notes &amp; Slides</a></td>
<td><a href="https://www.gradescope.com/">Git Fundamentals Quiz</a> <br> <a href="./labs/git-fundamentals-lab.html">Git Fundamentals Lab</a></td>
</tr>
<tr class="even">
<td>C Programming</td>
<td><a href="./slides/c-programming-notes.html">Lecture Notes &amp; Slides</a></td>
<td><a href="https://www.gradescope.com/">C Programming Quiz</a> <br> <a href="https://gitlab.oit.duke.edu/kits/BME-554L-001-Sp25/c-programming-lab">C Programming Lab</a> <br> <a href="https://www.gradescope.com/">C Programming Lab</a></td>
</tr>
<tr class="odd">
<td>Devicetree, GPIO &amp; Callbacks</td>
<td><a href="./slides/zephyr-gpio-isr-callbacks.html">Lecture Notes &amp; Slides</a> <br> <a href="https://academy.nordicsemi.com/courses/nrf-connect-sdk-fundamentals/lessons/lesson-2-reading-buttons-and-controlling-leds/">Nordic DevAcademy Lesson 2: Reading Buttons &amp; Controlling LEDs</a></td>
<td><a href="./labs/zephyr-gpio-isr-callbacks-lab.html">DT/GPIO/CB Lab</a></td>
</tr>
<tr class="even">
<td>Timers &amp; Work Queues</td>
<td><a href="./slides/zephyr-timers.html">Lecture Notes &amp; Slides</a></td>
<td><a href="./labs/zephyr-timers-lab.html">Timers Lab</a></td>
</tr>
<tr class="odd">
<td>Threads &amp; Kernel Events</td>
<td><a href="./slides/zephyr-threads-events.html">Lecture Notes &amp; Slides</a> <br> <a href="https://academy.nordicsemi.com/courses/nrf-connect-sdk-intermediate/lessons/lesson-1-zephyr-rtos-advanced/">Zephyr RTOS: Beyond the basics</a></td>
<td><a href="https://gitlab.oit.duke.edu/EmbeddedMedicalDevices/zephyr-threads-events/-/blob/main/Zephyr-Threads-Kernel-Events-Lab.md?ref_type=heads">Heartbeat &amp; Kernel Events Refactor Lab</a></td>
</tr>
<tr class="even">
<td>State Machine Framework</td>
<td><a href="./slides/zephyr-smf.html">Lecture Notes &amp; Slides</a></td>
<td><a href="./labs/zephyr-smf-lab.html">State Machine Framework Refactor Lab</a></td>
</tr>
<tr class="odd">
<td>Debugging</td>
<td><a href="https://academy.nordicsemi.com/courses/nrf-connect-sdk-intermediate/lessons/lesson-2-debugging/">Debugging DevAcademy Module</a></td>
<td>None</td>
</tr>
<tr class="even">
<td>Analog-to-Digital Conversion (ADC)</td>
<td><a href="./slides/zephyr-adc.html">Lecture Notes &amp; Slides</a> <br> <a href="https://academy.nordicsemi.com/courses/nrf-connect-sdk-intermediate/lessons/lesson-6-analog-to-digital-converter-adc/">Nordic DevAcademy: ADC</a></td>
<td><a href="./labs/zephyr-adc-lab.html">ADC Lab</a></td>
</tr>
<tr class="odd">
<td>Pulse Width Modulation (PWM)</td>
<td><a href="./slides/zephyr-pwm.html">Lecture Notes &amp; Slides</a> <br> <a href="https://academy.nordicsemi.com/courses/nrf-connect-sdk-intermediate/lessons/lesson-4-pulse-width-modulation-pwm/topic/pulse-width-modulation-pwm/">Nordic DevAcademy: PWM</a></td>
<td><a href="./labs/zephyr-pwm-lab.html">PWM Lab</a></td>
</tr>
<tr class="even">
<td>Serial Communications</td>
<td><a href="./slides/zephyr-serial-communication.html">Lecture Notes &amp; Slides</a> <br> <a href="https://academy.nordicsemi.com/lessons/lesson-4-serial-communication-uart/">UART DevAcademy Module</a> <br> <a href="https://academy.nordicsemi.com/lessons/lesson-6-serial-com-i2c/">Serial Communication DevAcademy Module</a></td>
<td>None</td>
</tr>
<tr class="odd">
<td>Bluetooth Low Energy (BLE)</td>
<td><a href="./slides/zephyr-ble.html">Lecture Notes &amp; Slides</a> <br> <a href="https://academy.nordicsemi.com/courses/bluetooth-low-energy-fundamentals/">DevAcademic: BLE (Lessons 1-4)</a></td>
<td><a href="./labs/ecg-temp-ble-lab.html">ECG &amp; Temperature Sensing BLE Device</a></td>
</tr>
</tbody>
</table>
<!-- | [Device Safety (VBUS)](https://gitlab.oit.duke.edu/EmbeddedMedicalDevices/zephyr-vbus) |  Coming Soon | Coming Soon | -->
</section>
<section id="special-dates" class="level3">
<h3 class="anchored" data-anchor-id="special-dates">Special Dates</h3>
<ul>
<li>Fall Break (Oct 11-14, 2025)</li>
<li>LDOC (Nov 25, 2025)</li>
</ul>
</section>
</section>
<section id="attendance-participation" class="level2">
<h2 class="anchored" data-anchor-id="attendance-participation">Attendance &amp; Participation</h2>
<p>Class participation in lecture and utilize lab time with your TAs is strongly encouraged. Lecture will be used to provide skill overview and live demonstrations, many of while will kickstart your efforts for your project. Lab time will provide you access to equipment and the TAs for assistance.</p>
<p>Students are responsible for obtaining missed lecture content from other students in the class. All lecture slides/presented content will be made availabe online (Canvas/Gitlab), and lectures will be recorded via Panopto and posted to Canvas.</p>
<p>Participation on Ed Discussion is also encouraged, in the form of:</p>
<ul>
<li>Asking questions about the course material (ideally, publicly, so that others can benefit (Anonymous okay))</li>
<li>Answering questions from other students</li>
<li>Sharing interesting articles or resources related to the course material</li>
</ul>
</section>
<section id="assignments-grading" class="level2">
<h2 class="anchored" data-anchor-id="assignments-grading">Assignments &amp; Grading</h2>
<section id="grading" class="level3">
<h3 class="anchored" data-anchor-id="grading">Grading</h3>
<p>Fundamental knowledge will be assessed with online quizzes (~30%).</p>
<p>Lab exercises will focus on implementing key functionality towards the final working device (a wireless ECG and temperature sensor). Each lab exercise will be evaluated with code reviews and technical reports that assess functionality (~50%).</p>
<p>Testing of the final working device will be presented in a final technical report (~20%).</p>
<p>All assignment grades will be posted to Gradescope (and linked to the Canvas gradebook) throughout the semester to track your performance.</p>
</section>
<section id="course-grade" class="level3">
<h3 class="anchored" data-anchor-id="course-grade">Course Grade</h3>
<p>This course is not “curved” (i.e., a distribution of grades will not be enforced), and a traditional grading scheme will be used (e.g., 90-93 = A-, 94-97 = A, 97-100 = A+). Participation throughout the semester will influence rounding up/down for fractional grades.</p>
<p>Failing the course can happen with a cummulative score <span class="math inline">\(&lt;\)</span> 70 (C-).</p>
</section>
<section id="regrades" class="level3">
<h3 class="anchored" data-anchor-id="regrades">Regrades</h3>
<p>Any regrading requests need to be made <strong>within one week of grades for a given assignment being released</strong>. You must make the request via Gradescope and provide a description of why you feel a regrade is appropriate. Requesting a regrade could lead to additional loss of credit when an assignment is re-evaluated.</p>
<p>Some assignments will have an opportunity to be resubmitted based on grading feedback at the discretion of Dr.&nbsp;Palmeri.</p>
</section>
<section id="late-policy-sdao-accomodations" class="level3">
<h3 class="anchored" data-anchor-id="late-policy-sdao-accomodations">Late Policy / SDAO Accomodations</h3>
<p>Late submission windows will be available for all assignments, minus the final project, and should be used to accomodate acute illness, travel, high workload from other classes and other unforeseen circumstances. This late submission window can be utilized without penalty and without prior approval.</p>
<p>Students with SDAO accomodations for extended time on assignments can use this extended late submission window for all assignments.</p>
<p>Any assignments submitted after the late submission window will only be accepted for partial credit at the discretion of Dr.&nbsp;Palmeri or if prior approval was sought <strong>before the original due date</strong>.</p>
</section>
</section>
<section id="duke-community-standard" class="level2">
<h2 class="anchored" data-anchor-id="duke-community-standard">Duke Community Standard</h2>
<p>All students are expected to adhere to all principles of the <a href="https://trinity.duke.edu/undergraduate/academic-policies/community-standard-student-conduct">Duke Community Standard</a>. Violations of the Duke Community Standard will be referred immediately to the Office of Student Conduct. Please do not hesitate to talk with Dr.&nbsp;Palmeri about any situations involving academic honor, especially if it is ambiguous what should be done.</p>
</section>
<section id="faq" class="level2">
<h2 class="anchored" data-anchor-id="faq">FAQ</h2>
<section id="can-i-collaborate-with-other-students" class="level3">
<h3 class="anchored" data-anchor-id="can-i-collaborate-with-other-students">Can I collaborate with other students?</h3>
<p>Engineering is inherently a collaborative field, and in this class, you are encouraged to work collaboratively on your projects. That being said, all of the work that you submit must be generated by you and reflect your understanding of the material.</p>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<p>All resources used in your projects that were developed by another person or company must be properly acknowledged using comments in your code and lab reports.</p>
</div>
</div>
</section>
<section id="can-i-use-ai" class="level3">
<h3 class="anchored" data-anchor-id="can-i-use-ai">Can I use AI?</h3>
<p>The use of artificial intelligence is a rapidly developing resource / tool in engineering. In software development, there are many levels of AI-assitance available. Such form of assistance include the <a href="https://visualstudio.microsoft.com/services/intellicode/">IntelliCode</a> tools and <a href="https://github.com/features/copilot">GitHub CoPilot</a> (free to students through the <a href="https://github.com/education/students">GitHub Education</a> program). These tools can be leveraged to help with syntax.</p>
<div class="callout callout-style-default callout-caution callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Caution
</div>
</div>
<div class="callout-body-container callout-body">
<p>You are strongly cautioned to not rely on these tools for logical implementation.</p>
</div>
</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/mlp6\.github\.io\/Embedded-Medical-Devices\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




<footer class="footer"><div class="nav-footer"><div class="nav-footer-center"><div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/mlp6/Embedded-Medical-Devices/issues/new" class="toc-action"><i class="bi bi-github"></i>Report an issue</a></li></ul></div></div></div></footer></body></html>