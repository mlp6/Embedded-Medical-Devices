<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.31">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Dr.&nbsp;Mark Palmeri, M.D., Ph.D.">
<meta name="dcterms.date" content="2025-09-15">

<title>Zephyr: Devicetree, GPIO, ISR and Callbacks Lab – Embedded Medical Devices</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-fced259a1985fd972ecb57c7cd45153f.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-13f007c1943c6d3711256cc1d3aa22a2.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-sidebar docked quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../labs/event-driven-state-machine-lab.html">Labs</a></li><li class="breadcrumb-item"><a href="../labs/zephyr-gpio-isr-callbacks-lab.html">GPIO, ISR, and Callbacks Lab</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-center sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">Embedded Medical Devices</a> 
    </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Course Information</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../course-syllabus.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Course Syllabus</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../bme-lab-policies.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">BME Lab Policies</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="https://edstem.org/us/courses/81241/discussion" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Ed Discussion</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="ttps://canvas.duke.edu/courses/62452" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Canvas</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="https://www.gradescope.com/courses/1075664" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Gradescope</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="https://duke.hosted.panopto.com/Panopto/Pages/Sessions/List.aspx?folderID=7ce45649-7fe7-4549-9c8d-b33d00c57b38" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Panopto</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../software-install-tutorials.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Software Installation &amp; Tutorials</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../faq.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">FAQ</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Learning Modules</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../slides/zephyr-nrf52833dk-intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction to Zephyr &amp; Nordic SoCs</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../slides/event-driven-state-machine.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Event-Driven State Machines</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../slides/git-fundamentals-notes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Git Fundamentals</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../slides/c-programming-notes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">C Programming</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../slides/zephyr-gpio-isr-callbacks.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">GPIO, ISR, and Callbacks</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../slides/zephyr-timers.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Timers</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../slides/zephyr-threads-events.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Threads and Kernel Events</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../slides/zephyr-smf.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">State Machine Framework (SMF)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../slides/zephyr-adc.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Analog-to-Digital Conversion (ADC)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../slides/zephyr-pwm.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Pulse Width Modulation (PWM)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../slides/zephyr-serial-communication.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Serial Communication (UART, I2C, SPI)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../slides/zephyr-ble.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Bluetooth Low Energy (BLE)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../slides/zephyr-vbus.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">VBUS</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">Labs</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../labs/event-driven-state-machine-lab.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Event-Driven State Machine Lab</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../labs/git-fundamentals-lab.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Git Fundamentals Lab</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../labs/c-programming-lab.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">C Programming Lab</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../labs/zephyr-gpio-isr-callbacks-lab.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">GPIO, ISR, and Callbacks Lab</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../labs/zephyr-timers-lab.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Timers Lab</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../labs/zephyr-smf-lab.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">State Machine Framework (SMF) Refactor Lab</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../labs/zephyr-threads-events-lab.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Threads and Kernel Events Lab</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../labs/zephyr-adc-lab.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Analog-to-Digital Conversion (ADC) Lab</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../labs/zephyr-pwm-lab.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Pulse Width Modulation (PWM) Lab</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../labs/ecg-temp-ble-lab.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ECG, Temperature Sensor, and BLE Lab</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true">
 <span class="menu-text">Resources</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../resources/git.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Git Version Control</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../resources/technical_report.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Technical Report Guidelines</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../resources/state_diagram.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">State Diagram Preparation Tools</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../resources/how-to-generate-ecg-waveforms.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">How to Generate ECG Waveforms</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../resources/debugging.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Zephyr: Debugging in VS Code</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../resources/teaching_assistant_expectations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Teaching Assistant Expectations</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#overview" id="toc-overview" class="nav-link active" data-scroll-target="#overview">Overview</a></li>
  <li><a href="#nordic-devacademy-modules" id="toc-nordic-devacademy-modules" class="nav-link" data-scroll-target="#nordic-devacademy-modules">Nordic DevAcademy Modules</a></li>
  <li><a href="#git-version-control" id="toc-git-version-control" class="nav-link" data-scroll-target="#git-version-control">Git Version Control</a></li>
  <li><a href="#repository-setup" id="toc-repository-setup" class="nav-link" data-scroll-target="#repository-setup">Repository Setup</a></li>
  <li><a href="#kernel-configuration" id="toc-kernel-configuration" class="nav-link" data-scroll-target="#kernel-configuration">Kernel Configuration</a></li>
  <li><a href="#devicetree" id="toc-devicetree" class="nav-link" data-scroll-target="#devicetree">Devicetree</a></li>
  <li><a href="#firmware" id="toc-firmware" class="nav-link" data-scroll-target="#firmware">Firmware</a></li>
  <li><a href="#state-diagram" id="toc-state-diagram" class="nav-link" data-scroll-target="#state-diagram">State Diagram</a></li>
  <li><a href="#how-do-i-ask-for-help" id="toc-how-do-i-ask-for-help" class="nav-link" data-scroll-target="#how-do-i-ask-for-help">How do I ask for help?</a></li>
  <li><a href="#what-to-submit-grading" id="toc-what-to-submit-grading" class="nav-link" data-scroll-target="#what-to-submit-grading">What to Submit &amp; Grading</a></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/mlp6/Embedded-Medical-Devices/issues/new" class="toc-action"><i class="bi bi-github"></i>Report an issue</a></li></ul></div><div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="zephyr-gpio-isr-callbacks-lab.pdf"><i class="bi bi-file-pdf"></i>PDF</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../labs/event-driven-state-machine-lab.html">Labs</a></li><li class="breadcrumb-item"><a href="../labs/zephyr-gpio-isr-callbacks-lab.html">GPIO, ISR, and Callbacks Lab</a></li></ol></nav>
<div class="quarto-title">
<h1 class="title">Zephyr: Devicetree, GPIO, ISR and Callbacks Lab</h1>
<p class="subtitle lead">BME554L - Fall 2025 - Palmeri</p>
  <div class="quarto-categories">
    <div class="quarto-category">Lab</div>
  </div>
  </div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Dr.&nbsp;Mark Palmeri, M.D., Ph.D. </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">September 15, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="overview" class="level2">
<h2 class="anchored" data-anchor-id="overview">Overview</h2>
<p>This week we will start programming the firmware that will be controlling your <code>nRF52833DK</code>. We will be using buttons to trigger device events and LEDs will be used to visualize output activity for the device. While LEDs might seem underwhelming, they are a universal way to represent how digital ouput signals could be used to control other devices (e.g., motors, actuators, etc.).</p>
</section>
<section id="nordic-devacademy-modules" class="level2">
<h2 class="anchored" data-anchor-id="nordic-devacademy-modules">Nordic DevAcademy Modules</h2>
<p>Please complete the following Nordic DevAcademy modules:</p>
<ol type="1">
<li><a href="https://academy.nordicsemi.com/courses/nrf-connect-sdk-fundamentals/lessons/lesson-2-reading-buttons-and-controlling-leds/">Reading Buttons and Controlling LEDs</a></li>
<li><a href="https://academy.nordicsemi.com/courses/nrf-connect-sdk-intermediate/lessons/lesson-2-debugging/">Debugging &amp; Troubleshooting</a></li>
</ol>
</section>
<section id="git-version-control" class="level2">
<h2 class="anchored" data-anchor-id="git-version-control">Git Version Control</h2>
<ul>
<li>Use best practices for version control (branching, commit messages, etc.).</li>
<li>Do all development on a dedicated branch that is merged into <code>main</code> once it is functional.</li>
<li>Commits should be very specific to the changes/additions you are making to your code. This will help you and others understand what you did and why you did it.<br>
</li>
<li>On a given development branch, try to implement one small piece of functionality at a time, commit it, and then move on to the next piece of functionality.</li>
</ul>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<p>You do not want one, monolithic git commit right before you submit your project.</p>
</div>
</div>
</section>
<section id="repository-setup" class="level2">
<h2 class="anchored" data-anchor-id="repository-setup">Repository Setup</h2>
<ol type="1">
<li>Fork the <a href="https://gitlab.oit.duke.edu/kits/BME-554L-001-F25/duke-bme554-ecg-temp-ble-lab">Duke-BME554-ECG-TEMP-BLE-Lab</a> template repository into your personal GitLab user space.</li>
<li>Add Dr.&nbsp;Palmeri (<code>mlp6</code>) as a <code>Maintainer</code> of your project ASAP. This will allow him to add your TAs and some project labels to your repository.</li>
<li>Clone your forked project to your local laptop.</li>
<li>Run <code>west update</code> to setup the SDK to for your project.</li>
</ol>
</section>
<section id="kernel-configuration" class="level2">
<h2 class="anchored" data-anchor-id="kernel-configuration">Kernel Configuration</h2>
<p>Take note of kernel configurations enabled in <code>application/prj.conf</code>.</p>
</section>
<section id="devicetree" class="level2">
<h2 class="anchored" data-anchor-id="devicetree">Devicetree</h2>
<ul>
<li><p>We have introduced the concept of the Devicetree (DT) for the <code>nRF52833DK</code>. The development kit has a preconfigured DT (<code>nrf52833dk_nrf52833.dts</code>), which is selected when we create a board configuration (the present selected in <code>CMakePresents.json</code>).</p></li>
<li><p>To make changes or additions to this DT, we will create a DT overlay file that will be compiled into the firmware. The default name of this file is <code>nrf52833dk_nrf52833.overlay</code> and it is located in the <code>application/boards/</code> directory.</p></li>
<li><p>The <code>nRF52833DK</code> has 4 integrated LEDs. Edit the DT overlay file for your project to create alias for 4 LEDs on the following pins (all 4 of which are the integrated LEDs), which will then be associated with the specified firmware GPIO pin struct names:</p></li>
</ul>
<table class="caption-top table">
<colgroup>
<col style="width: 30%">
<col style="width: 23%">
<col style="width: 14%">
<col style="width: 16%">
<col style="width: 14%">
</colgroup>
<thead>
<tr class="header">
<th><strong>Firmware gpio_dt_spec Struct Name</strong></th>
<th><strong>DT Alias</strong></th>
<th><strong>DT Default Node Name</strong></th>
<th><strong>Physical GPIO Pin</strong></th>
<th><strong>DK Part Label</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>heartbeat_led</code></td>
<td><code>heartbeat</code></td>
<td><code>led0</code></td>
<td><code>P0.13</code></td>
<td><code>LED1</code></td>
</tr>
<tr class="even">
<td><code>iv_pump_led</code></td>
<td><code>ivpump</code></td>
<td><code>led1</code></td>
<td><code>P0.14</code></td>
<td><code>LED2</code></td>
</tr>
<tr class="odd">
<td><code>buzzer_led</code></td>
<td><code>buzzer</code></td>
<td><code>led2</code></td>
<td><code>P0.15</code></td>
<td><code>LED3</code></td>
</tr>
<tr class="even">
<td><code>error_led</code></td>
<td><code>error</code></td>
<td><code>led3</code></td>
<td><code>P0.16</code></td>
<td><code>LED4</code></td>
</tr>
</tbody>
</table>
<ul>
<li>The <code>nRF52833DK</code> also has 4 integrated buttons. Edit the DT overlay file for your project to create aliases for these 4 buttons that are the same as their default DTS node names:</li>
</ul>
<table class="caption-top table">
<colgroup>
<col style="width: 30%">
<col style="width: 27%">
<col style="width: 14%">
<col style="width: 11%">
<col style="width: 16%">
</colgroup>
<thead>
<tr class="header">
<th><strong>Firmware gpio_dt_spec Struct Name</strong></th>
<th><strong>DT Alias</strong></th>
<th><strong>DT Default Node Name</strong></th>
<th><strong>Physical GPIO Pin</strong></th>
<th><strong>DK Part Label</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>sleep_button</code></td>
<td><code>sleepbutton</code></td>
<td><code>button0</code></td>
<td><code>P0.11</code></td>
<td><code>Button 1</code></td>
</tr>
<tr class="even">
<td><code>freq_up_button</code></td>
<td><code>frequpbutton</code></td>
<td><code>button1</code></td>
<td><code>P0.12</code></td>
<td><code>Button 2</code></td>
</tr>
<tr class="odd">
<td><code>freq_down_button</code></td>
<td><code>freqdownbutton</code></td>
<td><code>button2</code></td>
<td><code>P0.24</code></td>
<td><code>Button 3</code></td>
</tr>
<tr class="even">
<td><code>reset_button</code></td>
<td><code>resetbutton</code></td>
<td><code>button3</code></td>
<td><code>P0.25</code></td>
<td><code>Button 4</code></td>
</tr>
</tbody>
</table>
<p>Source: https://docs.nordicsemi.com/bundle/ug_nrf52833_dk/page/UG/dk/hw_buttons_leds.html</p>
</section>
<section id="firmware" class="level2">
<h2 class="anchored" data-anchor-id="firmware">Firmware</h2>
<p>Implement the following firmware functionality as a <strong>state machine</strong> (<code>switch/case</code>):</p>
<ul>
<li>Check that the <code>GPIO0</code> interface is ready.</li>
<li>Initialize all LED output pins as <code>GPIO_OUTPUT_ACTIVE</code> or <code>GPIO_OUTPUT_INACTIVE</code>, as dictated by the functional specifications below. Note that <code>ACTIVE</code> for the LEDs on this DK corresponds to driving them <code>LOW</code>.</li>
<li>Be sure to capture all function exit codes and have conditional statements to capture any returned error codes.</li>
</ul>
<p>Implement the following control logic:</p>
<ul>
<li>The <code>heartbeat</code> LED blinks at a fixed 1 Hz while <code>main()</code> is being executed. Issue a <code>LOG_INF()</code> statement each time the <code>heartbeat</code> LED is toggled.</li>
<li>The 2 “action” LEDs (<code>buzzer_led</code> and <code>iv_pump_led</code>) blink out of phase with one another at 2 Hz by default.<br>
</li>
<li>This 2 Hz default blink frequency should be defined using a preprocessor macro: <code>#define LED_BLINK_FREQ_HZ 2</code>.<br>
</li>
<li>Issue a <code>LOG_INF()</code> statement each time the “action” LEDs are toggled.</li>
<li><code>freq_up_button</code> increases the blink frequency of the “action” LEDs by 1 Hz each time it is pressed.</li>
<li>This incremental increase in blink frequency should be defined by the preprocessor macro: <code>#define FREQ_UP_INC_HZ 1</code>.<br>
</li>
<li>Issue a descriptive <code>LOG_INF()</code> statement each time this button is pressed, which indicates the new blink frequency.</li>
<li><code>freq_down_button</code> decreases the blink frequency of the “action” LEDs by 1 Hz each time it is pressed.</li>
<li>This incremental increase in blink frequency should be defined by the preprocessor macro: <code>#define FREQ_DOWN_INC_HZ 1</code>.<br>
</li>
<li>Issue a descriptive <code>LOG_INF()</code> statement each time this button is pressed, which indicates the new blink frequency.</li>
<li>If the blink frequency for the “action” LEDs is &lt; 1 Hz or &gt; 5 Hz, then:
<ul>
<li>The “action” LEDs should both be off, and</li>
<li>The <code>error</code> LED is continuously illuminated.<br>
</li>
<li>Issue a descriptive <code>LOG_ERR()</code> statement.</li>
<li>The <code>heartbeat</code> LED should continue to blink at 1 Hz.</li>
<li><code>freq_up_button</code>, <code>freq_down_button</code>, and <code>sleep_button</code> should be disabled (interrupts disabled).</li>
<li>The only way to exit the “error state” is to press the <code>reset</code> button.</li>
</ul></li>
<li>Define each of these min/max blinking frequencylimits using preprocessor macros (you can choose appropriate names).</li>
<li>Pressing the <code>reset</code> button resets the “action” LEDs to blink at their default 2 Hz rate, out of phase with one another, and re-enables the <code>freq_up_button</code>, <code>freq_down_button</code>, and <code>sleep_button</code>.</li>
<li>The <code>reset_button</code> can be pressed from any state and resets the device back to the default state.<br>
</li>
<li>A descriptive <code>LOG_INF()</code> statement should be issued each time the <code>reset</code> button is pressed.</li>
<li>At any point in time when the “action” LEDs are blinking (i.e., not the error state), if the <code>sleep_button</code> is pressed:
<ul>
<li>The current blink frequency for the “action” LEDs is stored,</li>
<li>Both “action” LEDs are turned off,</li>
<li>The <code>heartbeat</code> LED continues to blink,</li>
<li>A descriptive <code>LOG_INF()</code> statement is issued,</li>
<li>The “sleep state” can be exited by:</li>
<li>Pressing the <code>sleep</code> button again, at which time the device returns to blinking the “action” LEDs at the same frequency and relative phase before being put to sleep. Relative phase means the appropriate relative timing between the different “action” LEDs.</li>
<li>Pressing the <code>reset_button</code>, at which time the device returns to blinking the “action” LEDs at their default 2 Hz rate, out of phase with one another.</li>
</ul></li>
</ul>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>You may want to make your state diagram before writing any code.</li>
<li>Do not use <code>k_msleep()</code> in your code to control LED blink timing.
<ul>
<li>Sleep is <strong>blocking</strong> and paralyzes a single-threaded application.
<ul>
<li>Instead, have your main while loop run as fast as possible and use the <code>k_uptime_get()</code> function to determine when to toggle the LEDs.<br>
</li>
<li>Spoiler alert: We will be system kernel timers / threads to control the LED blink timing in the next lab.</li>
</ul></li>
</ul></li>
<li>Consider using a <code>struct</code> for each LED to bookkeep the LED state, phase, blink frequency, etc.</li>
</ul>
</div>
</div>
</section>
<section id="state-diagram" class="level2">
<h2 class="anchored" data-anchor-id="state-diagram">State Diagram</h2>
<ol type="1">
<li>Create a state diagram of your firmware using <a href="https://plantuml.com/">PlantUML</a>, or your diagraming program of choice.</li>
<li>Include a PNG of your block diagram in your git repository called <code>state_diagram.png</code>.</li>
</ol>
</section>
<section id="how-do-i-ask-for-help" class="level2">
<h2 class="anchored" data-anchor-id="how-do-i-ask-for-help">How do I ask for help?</h2>
<ol type="1">
<li>If you have a general / non-coding question, you should ask your TAs / Dr. Palmeri on Ed to allow any of them to respond in a timely manner.</li>
<li>Push you code to your GitLab repository, ideally with your active development on a non-<code>main</code> branch.</li>
<li>Create an <a href="https://docs.gitlab.com/ee/user/project/issues/">Issue</a> in your repository.
<ul>
<li>Add as much detail as possible as to your problem, and add links to specific lines / section of code when possible.</li>
<li>Assign the label “Bug” or “Question”, as appropriate.</li>
<li>Be sure to specify what branch you are working on.</li>
<li>Assign the Issue to one of the TAs.</li>
<li>If your TA cannot solve your Issue, they can escalate the Issue to Dr.&nbsp;Palmeri.</li>
</ul></li>
<li>You will get a response to your Issue, and maybe a new branch of code will be pushed to help you with some example syntax that you can use <code>git diff</code> to visualize.</li>
</ol>
</section>
<section id="what-to-submit-grading" class="level2">
<h2 class="anchored" data-anchor-id="what-to-submit-grading">What to Submit &amp; Grading</h2>
<ul>
<li>Make sure you are committing as you develop your code, and have all of those commits pushed to GitLab (i.e., do not “squash” them).</li>
<li>Make sure all of the CI pipelines are passing.</li>
<li>Create and annotated tag called <code>v1.0.0</code> at the commit that represents your completed lab.</li>
<li>Push your final repository and the annotated tag to GitLab.</li>
<li>Create an Issue assigned to Dr.&nbsp;Palmeri titled <code>v1.0.0 ready for feedback</code> and assign it the Label <code>Review</code>.</li>
<li><strong>You do not need to upload anything to the Gradescope assignment; someone on the teaching team will upload your tagged code to the Gradescope assignment for you.</strong></li>
<li>Grading feedback will be given on:
<ul>
<li>Git Usage</li>
<li>Code Functionality</li>
<li>Efficieny of code logic</li>
<li>State diagram completeness and matching the firmware implementation</li>
<li>“Readability”
<ul>
<li>“Readability” does not mean a lot of verbose comments</li>
<li>“Readability” means that the structure of the code, the naming of variables, etc. convey meaning and logical flow.</li>
</ul></li>
</ul></li>
</ul>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/mlp6\.github\.io\/Embedded-Medical-Devices\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




<footer class="footer"><div class="nav-footer"><div class="nav-footer-center"><div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/mlp6/Embedded-Medical-Devices/issues/new" class="toc-action"><i class="bi bi-github"></i>Report an issue</a></li></ul></div></div></div></footer></body></html>